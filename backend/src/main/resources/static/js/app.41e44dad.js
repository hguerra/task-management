!function(t){function e(e){for(var a,o,c=e[0],s=e[1],l=e[2],u=0,p=[];u<c.length;u++)o=c[u],r[o]&&p.push(r[o][0]),r[o]=0;for(a in s)Object.prototype.hasOwnProperty.call(s,a)&&(t[a]=s[a]);for(d&&d(e);p.length;)p.shift()();return i.push.apply(i,l||[]),n()}function n(){for(var t,e=0;e<i.length;e++){for(var n=i[e],a=!0,c=1;c<n.length;c++){var s=n[c];0!==r[s]&&(a=!1)}a&&(i.splice(e--,1),t=o(o.s=n[0]))}return t}var a={},r={0:0},i=[];function o(e){if(a[e])return a[e].exports;var n=a[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.m=t,o.c=a,o.d=function(t,e,n){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},o.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)o.d(n,a,function(e){return t[e]}.bind(null,a));return n},o.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="";var c=window.webpackJsonp=window.webpackJsonp||[],s=c.push.bind(c);c.push=e,c=c.slice();for(var l=0;l<c.length;l++)e(c[l]);var d=s;i.push([90,1]),n()}({58:function(t,e,n){},90:function(t,e,n){"use strict";n.r(e);n(54),n(58),n(15);function a(t,e){!function(t,e){var n=function(t){var e=document.createDocumentFragment(),n=document.createElement("div");for(n.innerHTML=t;n.childNodes[0];)e.appendChild(n.childNodes[0]);return e}(e);t&&t.appendChild(n)}(document.getElementById(t),e)}function r(t){var e=document.getElementById(t);e&&e.remove()}function i(t,e){!function(t,e,n){var a=document.getElementById(t);a&&a.addEventListener(e,n)}(t,"click",e)}function o(t){var e=document.getElementById(t);e.onclick?e.onclick():e.click&&e.click()}n(5);var c={id:"text",allowDrop:function(t){return t.preventDefault()},drag:function(t){return t.dataTransfer.setData(c.id,t.target.id)},drop:function(t){t.preventDefault();var e=t.dataTransfer.getData(c.id),n=document.getElementById(e);if(n){var a=t.target;"boardColumn__taskList"===a.className&&a.appendChild(n)}}},s=c,l=(n(40),n(41),n(42),n(12),n(14),n(75),n(76),n(81),n(53),n(35),function(t,e,n,a,r,i,o,c){i=i||"./public/avatar.jpg";var s="",l='draggable="true" ondragstart="__app_global_scope.events.drag(event)"';return!0===c&&(s="-true",l=""),'\n    <div class="taskCard taskCard--'.concat(o=o||e,'" id="card-').concat(t,'" ').concat(l,'>\n      <header class="taskCard__header">\n        <h4 class="taskCard__title d-inline-block">').concat(n,'</h4>\n        <div class="dropdown d-inline-block float-right">\n          <button class="btn btn-link" type="button" id="dropdownMenuButton" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">...</button>\n          <div class="dropdown-menu" aria-labelledby="dropdownMenuButton" x-placement="bottom-start" style="position: absolute; transform: translate3d(-100px, 38px, 0px); top: 0px; left: 0px; will-change: transform;">\n            <a class="dropdown-item card-edit" href="javascript:void(0);" id="card-edit-').concat(t).concat(s,'">Edit</a>\n            <a class="dropdown-item card-delete" href="javascript:void(0);" id="card-delete-').concat(t).concat(s,'">Delete</a>\n          </div>\n        </div>\n        <div class="taskCard__epicLink-wrapper"><span class="taskCard__epicLink-title">').concat(a,'</span></div>\n      </header>\n      <footer class="taskCard__footer"><span class="taskCard__type">').concat(e,'</span>\n        <div><span class="taskCard__id">').concat(r,'</span><img class="taskCard__avatar" src="').concat(i,'"></div>\n      </footer>\n    </div>\n  ').trim()}),d=function(t,e,n){var a=l(e.id,e.priority,e.title,e.epicLink,e.userName,null,"MEDIUM-custom",!0),r="";return n.forEach(function(t){var e,n,a,i,o;r+=(e=t.id,n=t.title,a=t.cards,i=t.cssClass,o="",a.forEach(function(t){o+=l(t.id,t.priority,t.title,t.epicLink,t.userName)}),'\n    <div class="boardColumn boardColumn--'.concat(i,'" id="board-column-').concat(e,'" ondrop="__app_global_scope.events.drop(event)" ondragover="__app_global_scope.events.allowDrop(event)">\n      <header class="boardColumn__header">\n        <h1 class="boardColumn__title">').concat(n,'</h1>\n      </header>\n      <div class="boardColumn__taskList" id="card-list-').concat(e,'">\n        ').concat(o,"\n      </div>\n    </div>\n  ").trim())}),'\n    <div class="board" id="board-'.concat(t,'">\n      ').concat(a,"\n      ").concat(r,"\n    </div>\n  ").trim()},u=function(t,e,n,a,r){return'\n    <div class="modal fade" id="addCard'.concat(t,'" tabindex="-1" role="dialog" aria-labelledby="addCard').concat(t,'Label" aria-hidden="true">\n      <div class="modal-dialog" role="document">\n        <div class="modal-content">\n          <div class="modal-header">\n            <h5 class="modal-title" id="addCard').concat(t,'Label">').concat(e,'</h5>\n            <button type="button" class="close" data-dismiss="modal" aria-label="Close" id="btnCloseCard').concat(t,'">\n              <span aria-hidden="true">&times;</span>\n            </button>\n          </div>\n          <div class="modal-body">\n            <form>\n              <div class="form-group">\n                <label for="recipient-name').concat(t,'" class="col-form-label">').concat(n,':</label>\n                <input type="text" class="form-control" id="recipient-name').concat(t,'" value="').concat(a,'" required>\n              </div>\n              <div class="form-group">\n                <label for="message-text').concat(t,'" class="col-form-label">Description:</label>\n                <textarea class="form-control" id="message-text').concat(t,'">').concat(r,'</textarea>\n              </div>\n            </form>\n          </div>\n          <div class="modal-footer">\n            <button type="button" class="btn btn-primary" id="btnAddCard').concat(t,'">Save & Close</button>\n          </div>\n        </div>\n      </div>\n    </div>\n  ').trim()};function p(t,e){for(var n=0;n<e.length;n++){var a=e[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}var b="undefined"!=typeof Storage,f=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.boards=[]}var e,n,a;return e=t,(n=[{key:"create",value:function(t){b&&t&&(this.boards.push(t),this.updateStorage())}},{key:"read",value:function(){if(this.boards=[],!b)return this.boards;var t=window.localStorage.getItem("app-boards");return t&&(this.boards=JSON.parse(t)),this.boards}},{key:"filter",value:function(t){var e=this.boards.findIndex(function(e){return e.id===t});return e>-1?this.boards[e]:null}},{key:"update",value:function(t){if(b&&t){this.read();var e=this.boards.findIndex(function(e){return e.id===t.id});e>-1&&(this.boards[e]=t,this.updateStorage())}}},{key:"delete",value:function(t){if(b&&t){var e=this.boards.findIndex(function(e){return e.id===t.id});e>-1&&(this.boards.splice(e,1),this.updateStorage())}}},{key:"clear",value:function(){var t=this;this.boards.forEach(function(e){return t.delete(e)})}},{key:"updateStorage",value:function(){window.localStorage.setItem("app-boards",JSON.stringify(this.boards))}}])&&p(e.prototype,n),a&&p(e,a),t}();function m(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=[],a=!0,r=!1,i=void 0;try{for(var o,c=t[Symbol.iterator]();!(a=(o=c.next()).done)&&(n.push(o.value),!e||n.length!==e);a=!0);}catch(t){r=!0,i=t}finally{try{a||null==c.return||c.return()}finally{if(r)throw i}}return n}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function v(t,e){for(var n=0;n<e.length;n++){var a=e[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}var g=function(){function t(e,n,a){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.id=e,this.userStory=n,this.boardColumns=a,this.storageApiService=new f}var e,n,c;return e=t,(n=[{key:"addCard",value:function(t){var e=this.boardColumns[0];e.cards.push(t),a("card-list-".concat(e.id),l(t.id,t.priority,t.title,t.epicLink,t.userName));var n="card-".concat(t.id);this.removeCardEvent(n),this.editCardEvent(n)}},{key:"removeCard",value:function(t,e){e?this.userStory&&this.userStory.id&&this.userStory.id.toString()===t&&this.removeBoard():(this.boardColumns.forEach(function(e){var n=e.cards.findIndex(function(e){return e.id===t});n>-1&&e.cards.splice(n,1)}),r("card-".concat(t)))}},{key:"removeBoard",value:function(){this.boardColumns.forEach(function(t){t.cards.forEach(function(t){r("card-".concat(t.id))})}),this.userStory=[],this.boardColumns=[],r("card-grid-".concat(this.id))}},{key:"append",value:function(){var t,e;a("accordion",(t=this.id,e=this.userStory,'\n    <div class="card" id="card-grid-'.concat(t,'">\n      <div class="card-header" id="card-header-').concat(t,'">\n        <h5 class="mb-0">\n          <button class="btn btn-link btn-link-header" data-toggle="collapse" data-target="#card-collapse-').concat(t,'" aria-expanded="true"\n            aria-controls="card-collapse-').concat(t,'">\n            ').concat(e.title,'\n          </button>\n        </h5>\n      </div>\n\n      <div id="card-collapse-').concat(t,'" class="collapse show" aria-labelledby="card-header-').concat(t,'" data-parent="#accordion">\n\n        <br>\n        <a href="#" class="list-group-item-action mt-5 ml-2" data-toggle="modal" data-target="#addCardNewItem').concat(t,'">\n          <img class="contributed-icon contributed-icon-image bolt-image flex-noshrink img-new-work" src="./public/add.png">\n          New Item\n        </a>\n\n        <div class="card-body p-0">\n          <div id="board-').concat(t,'-app"></div>\n        </div>\n      </div>\n    </div>\n  ').trim()));var n="NewItem".concat(this.id);a("app-modal",u(n,"Task","Title","","")),a(this.boardElementId,this.template),this.addCardEvent(n),this.applyEditCardsEvent(n),this.applyRemoveCardsEvent()}},{key:"addCardEvent",value:function(t){var e=this;i("btnAddCard".concat(t),function(){var n={id:Date.now().toString(),priority:"LOW",title:document.getElementById("recipient-name".concat(t)).value,description:document.getElementById("message-text".concat(t)).value,epicLink:e.userStory.title,userName:"Heitor Carneiro"};""!==n.title.trim()&&(e.addCard(n),e._update(),o("btnCloseCard".concat(t)))})}},{key:"removeCardEvent",value:function(t){var e=this;i(t,function(t){var n=m(e.getCardIdAndIfIsUserStory(t),2),a=n[0],r=n[1];e.removeCard(a,r),e._update()})}},{key:"editCardEvent",value:function(t){var e=this;i(t,function(t){var n=m(e.getCardIdAndIfIsUserStory(t),1)[0];console.log("edit",n)})}},{key:"getCardIdAndIfIsUserStory",value:function(t){var e=t.target.id.split("-"),n=e[2],a=!1;return e.length>2&&(a="true"===e[3]),[n,a]}},{key:"applyRemoveCardsEvent",value:function(){var t=this;document.querySelectorAll(".card-delete").forEach(function(e){t.removeCardEvent(e.id)})}},{key:"applyEditCardsEvent",value:function(t){var e=this;document.querySelectorAll(".card-edit").forEach(function(t){e.editCardEvent(t.id)})}},{key:"_update",value:function(){this.storageApiService.update({id:this.id,userStory:this.userStory,boardColumns:this.boardColumns})}},{key:"columns",get:function(){return this.boardColumns}},{key:"template",get:function(){return d(this.id,this.userStory,this.boardColumns)}},{key:"element",get:function(){return document.getElementById(this.boardElementId)}},{key:"boardElementId",get:function(){return"board-".concat(this.id,"-app")}}])&&v(e.prototype,n),c&&v(e,c),t}(),h=new f;function y(t,e){var n=e[0],a=e[1],r=a.target.id,i=a.addedNodes[0].id.split("-")[1],o=n.target.id.split("-")[2],c=r.split("-")[2],s=t.columns.findIndex(function(t){return t.id===o}),l=t.columns.findIndex(function(t){return t.id===c});if(s>-1&&l>-1){var d=t.columns[s].cards.findIndex(function(t){return t.id===i});if(d>-1){var u=t.columns[s].cards[d];t.columns[s].cards.splice(d,1);var p=document.getElementById(r).querySelectorAll(".taskCard");if(p&&p.length){var b=0;p.forEach(function(t,e){t.id.split("-")[1]===i&&(b=e)}),t.columns[l].cards.splice(b,0,u),function(t,e,n,a,r,i){console.log(">> board: ",t,"move: ",e,"from list",n,"to list",a,"index",r,"to",i),h.update(t)}(t,u.id,o,c,d,b)}}}}function k(t,e){for(var n=0;n<e.length;n++){var a=e[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}var C=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.board=e,this.targetNode=this.board.element,this.observer=null,this.config={attributes:!0,childList:!0,subtree:!0}}var e,n,a;return e=t,(n=[{key:"observe",value:function(){var t=this.board;this.observer=new MutationObserver(function(e,n){switch(e.length){case 2:y(t,e)}}),this.observer.observe(this.targetNode,this.config)}},{key:"disconect",value:function(){this.observer&&this.observer.disconnect()}}])&&k(e.prototype,n),a&&k(e,a),t}();function S(t,e){for(var n=0;n<e.length;n++){var a=e[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}var w=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._boards=[],this.userStoryModalId="UserStoryModal",this.userStoryModal=u(this.userStoryModalId,"USER STORY","Title","",""),this.storageApiService=new f}var e,n,r;return e=t,(n=[{key:"build",value:function(){var t=this;a("app-modal",this.userStoryModal);i("btnAddCard".concat(this.userStoryModalId),function(){var e=document.getElementById("recipient-name".concat(t.userStoryModalId)).value;if(""!==e.trim()){var n=t.boardTemplate(e);t.boardFactory(n),o("btnCloseCard".concat(t.userStoryModalId)),document.getElementById("recipient-name".concat(t.userStoryModalId)).value=""}})}},{key:"loadBoards",value:function(t,e){var n=this;t&&t.length||e||(t=JSON.parse(JSON.stringify(this.storageApiService.read()))),this.storageApiService.clear(),t.forEach(function(t){var e=new g(t.id,t.userStory,t.boardColumns);e.append(),n.boardFactory(e)})}},{key:"boardFactory",value:function(t){var e=new C(t);e.observe(),this.storageApiService.create(t),this._boards.push({board:t,controller:e})}},{key:"boardTemplate",value:function(t){var e={id:(Date.now()+1).toString(),priority:"LOW",title:t,description:document.getElementById("message-text".concat(this.userStoryModalId)).value,epicLink:t,userName:"Heitor Carneiro",cssClass:"MEDIUM-custom"},n=[{id:(Date.now()+2).toString(),title:"To Do",cssClass:"TODO",cards:[]},{id:(Date.now()+3).toString(),title:"In Progress",cssClass:"INPROGRESS",cards:[]},{id:(Date.now()+4).toString(),title:"Done",cssClass:"DONE",cards:[]}],a=new g((Date.now()+5).toString(),e,n);return a.append(),document.getElementById("message-text".concat(this.userStoryModalId)).value="",a}},{key:"boards",get:function(){return this._boards}}])&&S(e.prototype,n),r&&S(e,r),t}();function E(t,e){for(var n=0;n<e.length;n++){var a=e[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}var I=new(function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.boardLaneController=new w}var e,n,r;return e=t,(n=[{key:"build",value:function(){a("sidebar-wrapper",'\n    <div class="sidebar-heading">\n      <img class="contributed-icon contributed-icon-image bolt-image flex-noshrink" src="./public/azure-devops.jpg">\n      Azure <span class="sidebar-heading-color">DevOps</span>\n      </div>\n      <div id="sidebar-items" class="list-group list-group-flush">\n      <a href="#" class="list-group-item list-group-item-action bg-light">\n        <img class="contributed-icon contributed-icon-image bolt-image flex-noshrink" src="./public/sidebar-overview.png">\n        Overview</a>\n\n      <a class="list-group-item list-group-item-action bg-light" data-toggle="collapse" href="#collapseBoard" role="button"\n        aria-expanded="false" aria-controls="collapseBoard">\n        <img class="contributed-icon contributed-icon-image bolt-image flex-noshrink" src="./public/sidebar-boards.png">\n        Boards\n      </a>\n\n      <div class="collapse show" id="collapseBoard">\n        <div class="card card-body p-0">\n          <a href="#" class="list-group-item list-group-item-action list-group-item-secondary">\n            <img class="contributed-icon contributed-icon-image bolt-image flex-noshrink" src="./public/clipboards.png">\n            Work Items\n          </a>\n          <a href="#" class="list-group-item list-group-item-action list-group-item-secondary">\n            <img class="contributed-icon contributed-icon-image bolt-image flex-noshrink" src="./public/trello.png">\n            Boards\n          </a>\n          <a href="#" class="list-group-item list-group-item-action list-group-item-secondary">\n            <img class="contributed-icon contributed-icon-image bolt-image flex-noshrink" src="./public/list.png">\n            Backlogs\n          </a>\n          <a href="#" class="list-group-item list-group-item-action bg-grey">\n            <img class="contributed-icon contributed-icon-image bolt-image flex-noshrink" src="./public/agile.png">\n            Sprints\n          </a>\n          <a href="#" class="list-group-item list-group-item-action list-group-item-secondary">\n            <img class="contributed-icon contributed-icon-image bolt-image flex-noshrink" src="./public/filter.png">\n            Queries\n          </a>\n        </div>\n      </div>\n\n      <a href="#" class="list-group-item list-group-item-action bg-light">\n        <img class="contributed-icon contributed-icon-image bolt-image flex-noshrink" src="./public/sidebar-repos.png">\n        Repos</a>\n\n      <a href="#" class="list-group-item list-group-item-action bg-light">\n        <img class="contributed-icon contributed-icon-image bolt-image flex-noshrink" src="./public/sidebar-pipeline.png">\n        Pipeline</a>\n\n      <a href="#" class="list-group-item list-group-item-action bg-light">\n        <img class="contributed-icon contributed-icon-image bolt-image flex-noshrink" src="./public/sidebar-testplan.png">\n        Test Plans</a>\n\n      <a href="#" class="list-group-item list-group-item-action bg-light">\n        <img class="contributed-icon contributed-icon-image bolt-image flex-noshrink" src="./public/sidebar-artifacts.png">\n        Artifacts</a>\n\n      <div class="list-group-item list-group-item-action bg-light fixed-bottom-custom">\n        <img class="contributed-icon contributed-icon-image bolt-image flex-noshrink" src="./public/settings.png">\n        Project Settings\n\n        <img class="contributed-icon contributed-icon-image-settings bolt-image flex-noshrink" src="./public/double-left-chevron.png">\n      </div>\n    </div>\n  '.trim()),a("navbar",'\n    <nav class="navbar navbar-expand-lg navbar-light bg-light border-bottom">\n      <div class="collapse navbar-collapse" id="navbarSupportedContent">\n        <ol class="breadcrumb">\n          <li class="breadcrumb-item"><a href="#">imagem-solucoes</a></li>\n          <li class="breadcrumb-item"><a href="#">SIDEC</a></li>\n          <li class="breadcrumb-item active" aria-current="page">Sprints</li>\n        </ol>\n        <ul class="navbar-nav ml-auto mt-2 mt-lg-0">\n          <li class="nav-item">\n            <img class="contributed-icon contributed-icon-image bolt-image flex-noshrink" src="./public/avatar.jpg">\n          </li>\n        </ul>\n      </div>\n    </nav>\n  '.trim()),this.boardLaneController.build()}},{key:"load",value:function(){this.boardLaneController.loadBoards()}},{key:"enableDragAndDrop",value:function(){__app_global_scope.events=s}}])&&E(e.prototype,n),r&&E(e,r),t}());I.build(),I.enableDragAndDrop(),I.load()}});
//# sourceMappingURL=app.41e44dad.js.map